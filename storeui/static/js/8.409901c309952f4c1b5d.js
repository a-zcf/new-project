webpackJsonp([8],{UaGB:function(n,t,s){var a=s("cmC2");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);s("rjj0")("948ec9c2",a,!1,{})},cmC2:function(n,t,s){(n.exports=s("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"productdetails.vue",sourceRoot:""}])},dLcB:function(n,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("P9l9"),e=s("mw3O"),o=(s.n(e).a.parse(location.search.substring(1)),{name:"productdetails",data:function(){return{indexBgk:s("weLm"),value:0,title:"",img:"",price:0,salesMonth:"",currentStock:"",totalAmount:0,goodsId:0,shopNo:""}},mounted:function(){var n=this;n.shopNo=localStorage.getItem("shopNo"),n.goodsId=n.$route.query.goodsId,n.$getRequest(a.goodsDetail,{shopNo:n.shopNo,goodsId:n.goodsId}).then(function(t){if(0===t.data.code){var s=t.data.data,a=s.title,e=s.img,o=s.price,i=s.salesMonth,c=s.currentStock;n.title=a,n.img=e,n.price=o,n.salesMonth=i,n.currentStock=c}})},methods:{plusCart:function(){this.totalAmount=this.price*this.value+this.price},minsuCart:function(){this.totalAmount=this.price*this.value-this.price},clickAddCart:function(){var n=this;if(0===n.value)return n.$toast("请选择商品！"),!1;n.$postRequest(a.addCart,{goodsId:n.goodsId,shopNo:n.shopNo,num:n.value}).then(function(t){0===t.data.code?(n.goodsId="",n.value=0,n.totalAmount=0,n.$toast.success("成功加入购物车")):n.$toast.fail("添加失败")})}}}),i=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"product-details"},[s("back"),n._v(" "),s("img",{staticClass:"details-img",attrs:{src:n.img}}),n._v(" "),s("div",{staticClass:"details-content"},[s("p",{staticClass:"details-name"},[n._v("\n      "+n._s(n.title)+"\n    ")]),n._v(" "),s("p",{staticClass:"monthly-sales"},[n._v("月售"+n._s(n.salesMonth))]),n._v(" "),s("p",{staticClass:"price-stepper"},[s("span",{staticClass:"price"},[n._v("￥"),s("span",{staticClass:"size"},[n._v(n._s(n.price))])]),s("van-stepper",{attrs:{theme:"round",min:"0","button-size":"22","disable-input":""},on:{plus:n.plusCart,minus:n.minsuCart},model:{value:n.value,callback:function(t){n.value=t},expression:"value"}})],1)]),n._v(" "),s("div",{staticClass:"footer-but"},[s("div",{staticClass:"total-price"},[s("span",{staticClass:"gongji"},[n._v("共计：")]),s("span",[n._v("￥")]),s("span",{staticClass:"price"},[n._v(n._s(n.totalAmount))])]),n._v(" "),s("div",{staticClass:"but"},[s("span",{staticClass:"add-cart",on:{click:n.clickAddCart}},[n._v("加入购物车")]),n._v(" "),s("span",{staticClass:"settlement"},[n._v("去结算")])])])],1)};i._withStripped=!0;var c={render:i,staticRenderFns:[]},l=c;var r=!1;var u=s("VU/8")(o,l,!1,function(n){r||s("UaGB")},null,null);u.options.__file="src/views/home/productdetails.vue";t.default=u.exports}});
//# sourceMappingURL=8.409901c309952f4c1b5d.js.map